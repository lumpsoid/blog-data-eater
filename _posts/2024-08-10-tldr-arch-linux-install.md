---
title: "TLDR Arch linux installation"
date: 2024-08-10
---
- check that you are on UEFI
    - `cat /sys/firmware/efi/fw_platform_size`
- check that wifi module is running
    - `ip link`
    - `iwctl`
    - `device list`
    - `station wlan0 scan`
    - `station wlan0 get-networks`
    - `station wlan0 connect NAME`
    - `exit`
    - `ping archlinux.org`
- if you need to create a partition table for disk use
    - `fdisk /dev/nvme0n1`
- format partiotions
    - `mkfs.ext4 /dev/path`
- for swap
    - `mkswap /dev/path`
- for EFI boot partiotion
    - `mkfs.fat -F 32 /dev/path`
- mounting
  - `mount /dev/root /mnt`
  - `mount --mkdir /dev/boot /mnt/boot`
  - `swapon /dev/swap`
- then installing essential packages
  - `pacstrap -K /mnt base linux linux-firmware`
- generate table of your partitions
    - `genfstab -U /mnt >> /mnt/etc/fstab`
- chroot into the system
    - `arch-chroot /mnt`
- link your timezone
    - `ln -sf /usr/share/zoneinfo/Region/City /etc/localtime`
- sync time
    - `hwclock --systohc`
- generate locale
    - `vim /etc/locale.gen`
      - `en_US.UTF-8 UTF-8`
      - `ru_RU`
      - `locale-gen`
    - `nvim /etc/locale.conf`
      - `LANG=en_US.UTF-8`
- write your hostname
    - `vim /etc/hostname`
      - yourhostname
- set a password for the root
   - `set root password`
      - passwd
- install some packages for your set up (example)
    - `pacman -S git sudo neovim gnome-keyring zsh river`
- boot loader installation
  - `pacman -S grub efibootmgr os-prober`
  - `grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=GRUB`
  - `vim /etc/default/grub`
    - `GRUB_DISABLE_OS_PROBER=false`
  - `pacman -S amd-ucode`
    - it is for amd chipset
    - for intel check archlinux wiki
  - `grub-mkconfig -o /boot/grub/grub.cfg`
- enable service for wifi
    - `systemctl enable NetworkManager`
- now minimal set up is ready, unmount all partitions
    - `umount -R /mnt`
- `reboot`
- after reboot login into the system and make post install configuration
- add user
    - `useradd -s /bin/zsh <user name>`
- add groups (this for wayland set up)
    - `groupadd seat`
    - `usermod -aG seat <user name>`
